<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Debug — Landing + TheSportsDB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#0b1220;color:#e8eefc}
    .wrap{max-width:780px;margin:30px auto;padding:0 16px}
    .card{background:#0f172a;border:1px solid #223;border-radius:10px;padding:14px;margin-bottom:10px}
    .ok{color:#7ef7c7}.bad{color:#ff9887}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="a">Landing: testing…</div>
    <div class="card" id="b">TheSportsDB image: testing…</div>
    <img id="img" style="display:block;margin-top:8px;max-height:168px;border-radius:8px" />
  </div>
  <script>
    const PROXY='https://pederson-neely.ariswinkleman.workers.dev', NHL_WEB=`${PROXY}/nhl-web`;
    async function testLanding(){
      const el=document.getElementById('a');
      try{
        const r = await fetch(`${NHL_WEB}/v1/player/8449812/landing`);
        const j = await r.json();
        const ok = Array.isArray(j?.seasons) && j.seasons.length>0;
        el.innerHTML = 'Landing: ' + (ok?'<span class="ok">OK</span>':'<span class="bad">FAILED</span>');
      }catch(e){ el.innerHTML='Landing: <span class="bad">FAILED</span>'; }
    }
    async function testTSDB(){
      const el=document.getElementById('b');
      const img=document.getElementById('img');
      try{
        const r = await fetch('https://www.thesportsdb.com/api/v1/json/3/searchplayers.php?p=Cam%20Neely');
        const j = await r.json();
        const p = j?.player?.[0];
        const u = p?.strCutout || p?.strThumb || p?.strRender;
        if (u){ img.src = u; el.innerHTML='TheSportsDB image: <span class="ok">OK</span>'; }
        else { el.innerHTML='TheSportsDB image: <span class="bad">FAILED (no image)</span>'; }
      }catch(e){ el.innerHTML='TheSportsDB image: <span class="bad">FAILED</span>'; }
    }
    testLanding(); testTSDB();
  </script>
</body>
</html>