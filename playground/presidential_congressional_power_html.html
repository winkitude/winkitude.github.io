<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>American Presidential & Congressional Power â€” Horizontal Scroll</title>
  <style>
    :root{
      --bg:#f6f7f9; --card:#ffffff; --ink:#111827; --sub:#6b7280; --border:#e5e7eb;
      --blue:#2563eb; --red:#dc2626; --amber:#d97706; --slate:#334155; --emerald:#047857; --neutral:#6b7280;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"}
    h1,h2,h3{margin:0 0 .5rem}
    img{max-width:100%;display:block}

    /* Header */
    .header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.85);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--border)}
    .header-inner{max-width:1400px;margin:0 auto;padding:.75rem 1rem;display:flex;gap:.75rem;align-items:center;justify-content:space-between}
    .navbtn{border:1px solid var(--border);background:#fff;border-radius:999px;padding:.5rem .65rem;cursor:pointer}
    .navbtn svg{width:18px;height:18px}

    /* Horizontal scroller */
    .scroller{max-width:1400px;margin:0 auto;padding:1rem .75rem 2rem;display:grid;grid-auto-flow:column;grid-auto-columns:92%;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth}
    @media(min-width:900px){.scroller{grid-auto-columns:86%}}
    @media(min-width:1200px){.scroller{grid-auto-columns:80%}}
    .slide{scroll-snap-align:start;padding:0 8px}

    /* Card */
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
    .card-inner{padding:24px}
    .grid{display:grid;gap:16px}
    @media(min-width:1024px){.grid{grid-template-columns:1.2fr 2fr}}
    .left{display:flex;gap:14px;align-items:flex-start}
    .portrait{width:112px;height:112px;border-radius:12px;overflow:hidden;background:#f3f4f6;flex:0 0 auto}
    .badge{display:inline-flex;gap:6px;align-items:center;margin-top:6px;border-radius:999px;padding:4px 10px;font-size:12px;color:#fff}
    .dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.9)}
    .sub{color:var(--sub);font-size:14px}
    .note{display:flex;gap:6px;align-items:center;color:#6b7280;font-size:12px;margin-top:6px}

    /* Map + stats */
    .map{border:1px solid var(--border);border-radius:12px;padding:8px;background:#fff}
    .mapbox{aspect-ratio:16/9;background:#fafafa;border-radius:10px;display:grid;place-items:center;color:#9ca3af;font-size:14px;overflow:hidden}
    .stats{border:1px solid var(--border);border-radius:12px;padding:14px;display:flex;flex-direction:column;justify-content:space-between}
    .kpi-label{font-size:13px;color:var(--sub)}
    .kpi-value{font-weight:700;font-size:24px}
    .kpi-sub{color:#9ca3af;font-weight:500}

    /* Chart */
    .chart-wrap{margin-top:18px}
    .chart-head{display:flex;align-items:baseline;justify-content:space-between}
    .chart-sub{font-size:12px;color:var(--sub)}
    .svgbar{width:100%;height:150px}
    .legend{max-width:1400px;margin:0 auto 56px;padding:0 1rem;display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
    @media(min-width:900px){.legend{grid-template-columns:repeat(6,1fr)}}
    .chip{display:flex;align-items:center;gap:8px;font-size:12px}
    .sw{width:12px;height:12px;border-radius:3px}

    /* Party swatches */
    .p-Democratic{background:var(--blue)}
    .p-Republican{background:var(--red)}
    .p-Whig{background:var(--amber)}
    .p-Federalist{background:var(--slate)}
    .p-Democratic-Republican{background:var(--emerald)}
    .p-Other{background:var(--neutral)}
  </style>
</head>
<body>
  <header class="header" role="banner">
    <div class="header-inner">
      <h1 style="font-weight:700;font-size:18px">American Presidential & Congressional Power</h1>
      <div style="display:flex;gap:8px">
        <button class="navbtn" id="btnPrev" aria-label="Previous"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg></button>
        <button class="navbtn" id="btnNext" aria-label="Next"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 6l6 6-6 6"/></svg></button>
      </div>
    </div>
  </header>

  <main id="app" class="scroller" tabindex="0" aria-label="Horizontal presidential timeline"></main>

  <section class="legend" aria-label="Party legend">
    <div class="chip"><span class="sw p-Democratic"></span><span>Democratic</span></div>
    <div class="chip"><span class="sw p-Republican"></span><span>Republican</span></div>
    <div class="chip"><span class="sw p-Whig"></span><span>Whig</span></div>
    <div class="chip"><span class="sw p-Federalist"></span><span>Federalist</span></div>
    <div class="chip"><span class="sw p-Democratic-Republican"></span><span>Democratic-Republican</span></div>
    <div class="chip"><span class="sw p-Other"></span><span>Other</span></div>
  </section>

  <script>
    // ---------- Party colors (stroke fill for charts) ----------
    const PARTY_STROKES = {
      "Democratic": getComputedStyle(document.documentElement).getPropertyValue('--blue') || '#2563eb',
      "Republican": getComputedStyle(document.documentElement).getPropertyValue('--red') || '#dc2626',
      "Whig": getComputedStyle(document.documentElement).getPropertyValue('--amber') || '#d97706',
      "Federalist": getComputedStyle(document.documentElement).getPropertyValue('--slate') || '#334155',
      "Democratic-Republican": getComputedStyle(document.documentElement).getPropertyValue('--emerald') || '#047857',
      "Other": getComputedStyle(document.documentElement).getPropertyValue('--neutral') || '#6b7280'
    };

    // ---------- Data model ----------
    /**
     * id, name, portraitUrl, party, yearElected,
     * electoralVotesWon, electoralVotesTotal, popularVotePercent,
     * electoralMapUrl, notes,
     * congress: { house: { leadingParty, leadingSharePct }, senate: { leadingParty, leadingSharePct } }
     */
    const DATA = [
      {
        id: "george-washington-1789",
        name: "George Washington",
        portraitUrl: "images/presidents/washington.jpg", // TODO: replace
        party: "Other", // historical nuance, display as Other/Independent
        yearElected: 1789,
        electoralVotesWon: 69,
        electoralVotesTotal: 69,
        popularVotePercent: 100,
        electoralMapUrl: "images/maps/1789.png",
        notes: "First presidential election; electoral process differed from the modern system.",
        congress: {
          house: { leadingParty: "Pro-Administration", leadingSharePct: 100 },
          senate: { leadingParty: "Pro-Administration", leadingSharePct: 100 }
        }
      },
      {
        id: "abraham-lincoln-1860",
        name: "Abraham Lincoln",
        portraitUrl: "images/presidents/lincoln.jpg",
        party: "Republican",
        yearElected: 1860,
        electoralVotesWon: 180,
        electoralVotesTotal: 303,
        popularVotePercent: 39.8,
        electoralMapUrl: "images/maps/1860.png",
        congress: {
          house: { leadingParty: "Republican", leadingSharePct: 56 }, // placeholder
          senate: { leadingParty: "Republican", leadingSharePct: 55 }  // placeholder
        }
      },
      {
        id: "franklin-d-roosevelt-1932",
        name: "Franklin D. Roosevelt",
        portraitUrl: "images/presidents/fdr.jpg",
        party: "Democratic",
        yearElected: 1932,
        electoralVotesWon: 472,
        electoralVotesTotal: 531,
        popularVotePercent: 57.4,
        electoralMapUrl: "images/maps/1932.png",
        congress: {
          house: { leadingParty: "Democratic", leadingSharePct: 66 }, // placeholder
          senate: { leadingParty: "Democratic", leadingSharePct: 62 }  // placeholder
        }
      },
      {
        id: "ronald-reagan-1980",
        name: "Ronald Reagan",
        portraitUrl: "images/presidents/reagan.jpg",
        party: "Republican",
        yearElected: 1980,
        electoralVotesWon: 489,
        electoralVotesTotal: 538,
        popularVotePercent: 50.7,
        electoralMapUrl: "images/maps/1980.png",
        congress: {
          house: { leadingParty: "Democratic", leadingSharePct: 52 }, // placeholder
          senate: { leadingParty: "Republican", leadingSharePct: 52 }   // placeholder
        }
      },
      {
        id: "bill-clinton-1992",
        name: "Bill Clinton",
        portraitUrl: "images/presidents/clinton.jpg",
        party: "Democratic",
        yearElected: 1992,
        electoralVotesWon: 370,
        electoralVotesTotal: 538,
        popularVotePercent: 43.0,
        electoralMapUrl: "images/maps/1992.png",
        congress: {
          house: { leadingParty: "Democratic", leadingSharePct: 59 }, // placeholder
          senate: { leadingParty: "Democratic", leadingSharePct: 57 }  // placeholder
        }
      },
      {
        id: "george-w-bush-2000",
        name: "George W. Bush",
        portraitUrl: "images/presidents/gw-bush.jpg",
        party: "Republican",
        yearElected: 2000,
        electoralVotesWon: 271,
        electoralVotesTotal: 538,
        popularVotePercent: 47.87,
        electoralMapUrl: "images/maps/2000.png",
        congress: {
          house: { leadingParty: "Republican", leadingSharePct: 51 }, // placeholder
          senate: { leadingParty: "Split", leadingSharePct: 50 }       // placeholder
        }
      },
      {
        id: "barack-obama-2008",
        name: "Barack Obama",
        portraitUrl: "images/presidents/obama.jpg",
        party: "Democratic",
        yearElected: 2008,
        electoralVotesWon: 365,
        electoralVotesTotal: 538,
        popularVotePercent: 52.92,
        electoralMapUrl: "images/maps/2008.png",
        congress: {
          house: { leadingParty: "Democratic", leadingSharePct: 59 }, // placeholder
          senate: { leadingParty: "Democratic", leadingSharePct: 59 }  // placeholder
        }
      }
    ];

    // ---------- Utilities ----------
    const pct = (n) => `${Math.round(n * 10) / 10}%`;
    const partyClass = (party) => `p-${(PARTY_STROKES[party] ? party : 'Other').replace(/\\s+/g,'-')}`;
    const partyStroke = (party) => PARTY_STROKES[party] || PARTY_STROKES['Other'];

    // ---------- Render ----------
    const app = document.getElementById('app');

    function render(){
      app.innerHTML = DATA.map((entry, i) => slide(entry, i)).join('');
      bindCharts();
    }

    function slide(entry, idx){
      const evPct = (entry.electoralVotesWon/entry.electoralVotesTotal)*100;
      return `
        <section class="slide" aria-label="${entry.name}, elected ${entry.yearElected}">
          <article class="card">
            <div class="card-inner">
              <div class="grid">
                <div class="left">
                  <div class="portrait">
                    <img src="${entry.portraitUrl}" alt="${entry.name} portrait" />
                  </div>
                  <div>
                    <h2 style="font-size:22px;font-weight:700;line-height:1.15">${entry.name}</h2>
                    <div class="badge ${partyClass(entry.party)}" style="background:${partyStroke(entry.party)}">
                      <span class="dot"></span>
                      <span>${entry.party}</span>
                    </div>
                    <div class="sub" style="margin-top:6px"><strong>Elected:</strong> ${entry.yearElected}</div>
                    ${entry.notes ? `<p class="note">${entry.notes}</p>` : ''}
                  </div>
                </div>

                <div class="right">
                  <div style="display:grid;grid-template-columns:2fr 1fr;gap:12px">
                    <div class="map">
                      <div class="mapbox">
                        ${entry.electoralMapUrl ? `<img src="${entry.electoralMapUrl}" alt="${entry.yearElected} electoral map" style="width:100%;height:100%;object-fit:contain"/>` : 'electoral map'}
                      </div>
                    </div>
                    <div class="stats">
                      <div>
                        <div class="kpi-label">Electoral Vote</div>
                        <div class="kpi-value">${entry.electoralVotesWon} <span class="kpi-sub">/ ${entry.electoralVotesTotal}</span></div>
                        <div class="sub">â‰ˆ ${pct(evPct)}</div>
                      </div>
                      <div>
                        <div class="kpi-label">Popular Vote</div>
                        <div class="kpi-value">${pct(entry.popularVotePercent)}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="chart-wrap">
                <div class="chart-head">
                  <h3 style="font-size:18px;font-weight:700">Congressional Power at Election</h3>
                  <div class="chart-sub">Leading party share in each chamber</div>
                </div>
                <svg class="svgbar" role="img" aria-label="Stacked bars for House and Senate showing leading party share" data-party="${entry.party}" data-house="${entry.congress.house.leadingSharePct}" data-senate="${entry.congress.senate.leadingSharePct}" data-houseLabel="${entry.congress.house.leadingParty}" data-senateLabel="${entry.congress.senate.leadingParty}"></svg>
              </div>
            </div>
          </article>
        </section>`;
    }

    function bindCharts(){
      document.querySelectorAll('.svgbar').forEach(svg => {
        const party = svg.getAttribute('data-party');
        const house = +svg.getAttribute('data-house');
        const senate = +svg.getAttribute('data-senate');
        const houseLabel = svg.getAttribute('data-houseLabel');
        const senateLabel = svg.getAttribute('data-senateLabel');
        const fill = partyStroke(party);

        // Clear
        while(svg.firstChild) svg.removeChild(svg.firstChild);

        const W = svg.clientWidth || svg.parentElement.clientWidth; const H = svg.clientHeight || 150;
        const pad = 24, gap = 26, barH = 28;
        svg.setAttribute('viewBox', `0 0 ${W} ${H}`);

        function drawRow(y, label, pct, labelParty){
          const leadW = (W - pad*2) * Math.min(Math.max(pct,0),100) / 100;
          const trailW = (W - pad*2) - leadW;
          const group = document.createElementNS('http://www.w3.org/2000/svg','g');

          // label
          const t = document.createElementNS('http://www.w3.org/2000/svg','text');
          t.setAttribute('x', pad);
          t.setAttribute('y', y - 8);
          t.setAttribute('font-size','12');
          t.setAttribute('fill','#374151');
          t.textContent = label;
          group.appendChild(t);

          // leading rect
          const r1 = document.createElementNS('http://www.w3.org/2000/svg','rect');
          r1.setAttribute('x', pad);
          r1.setAttribute('y', y);
          r1.setAttribute('width', Math.max(leadW,0));
          r1.setAttribute('height', barH);
          r1.setAttribute('rx','6');
          r1.setAttribute('fill', fill);
          r1.appendChild(title(`${labelParty}: ${pct.toFixed(1)}%`));
          group.appendChild(r1);

          // trailing rect
          const r2 = document.createElementNS('http://www.w3.org/2000/svg','rect');
          r2.setAttribute('x', pad + Math.max(leadW,0));
          r2.setAttribute('y', y);
          r2.setAttribute('width', Math.max(trailW,0));
          r2.setAttribute('height', barH);
          r2.setAttribute('rx','6');
          r2.setAttribute('fill', '#e5e7eb');
          r2.appendChild(title(`${(100-pct).toFixed(1)}% other`));
          group.appendChild(r2);

          // pct text
          const ptxt = document.createElementNS('http://www.w3.org/2000/svg','text');
          ptxt.setAttribute('x', pad + Math.max(leadW - 4, 4));
          ptxt.setAttribute('y', y + barH/2 + 4);
          ptxt.setAttribute('text-anchor','end');
          ptxt.setAttribute('font-size','12');
          ptxt.setAttribute('fill','#ffffff');
          ptxt.setAttribute('font-weight','700');
          ptxt.textContent = `${pct.toFixed(1)}%`;
          group.appendChild(ptxt);

          svg.appendChild(group);
        }

        function title(text){
          const tt = document.createElementNS('http://www.w3.org/2000/svg','title');
          tt.textContent = text; return tt;
        }

        drawRow(40, 'House', house, houseLabel);
        drawRow(40 + gap + 28, 'Senate', senate, senateLabel);

        // y-axis baseline labels (0% and 100%)
        const l0 = document.createElementNS('http://www.w3.org/2000/svg','text');
        l0.setAttribute('x', 8); l0.setAttribute('y', H - 8); l0.setAttribute('font-size','11'); l0.setAttribute('fill','#9ca3af'); l0.textContent = '0%'; svg.appendChild(l0);
        const l1 = document.createElementNS('http://www.w3.org/2000/svg','text');
        l1.setAttribute('x', W - 24); l1.setAttribute('y', H - 8); l1.setAttribute('font-size','11'); l1.setAttribute('fill','#9ca3af'); l1.setAttribute('text-anchor','end'); l1.textContent = '100%'; svg.appendChild(l1);
      });
    }

    // ---------- Navigation ----------
    const scroller = document.querySelector('.scroller');
    document.getElementById('btnPrev').addEventListener('click', () => step(-1));
    document.getElementById('btnNext').addEventListener('click', () => step(1));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') step(1);
      if (e.key === 'ArrowLeft') step(-1);
    });

    function step(dir){
      const child = scroller.firstElementChild; const w = child ? child.clientWidth : scroller.clientWidth;
      scroller.scrollBy({left: dir * (w + 12), behavior:'smooth'});
    }

    // Initial render
    render();
  </script>

  <!--
    Optional CSV schema for bulk import
    id,name,portraitUrl,party,yearElected,electoralVotesWon,electoralVotesTotal,popularVotePercent,electoralMapUrl,houseLeadingParty,houseLeadingSharePct,senateLeadingParty,senateLeadingSharePct,notes
    barack-obama-2008,Barack Obama,images/presidents/obama.jpg,Democratic,2008,365,538,52.92,images/maps/2008.png,Democratic,59,Democratic,59,First African American President.
  -->
</body>
</html>
